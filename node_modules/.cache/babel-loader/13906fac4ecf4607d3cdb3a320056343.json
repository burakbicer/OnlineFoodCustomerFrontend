{"ast":null,"code":"import axios from 'axios';\n\nclass AuthenticationService {\n  constructor() {\n    this.setupAxiosInterceptorsJwt = token => {\n      axios.interceptors.request.use(config => {\n        if (this.isUserLoggedIn()) config.headers.authorization = this.createJwtAuthentication(token);\n        return config;\n      });\n    };\n  }\n\n  executeJwtAuthentication(username, password) {\n    return axios.post('http://localhost:8034/customer2/authenticate2', {\n      username,\n      password\n    });\n  }\n\n  registerSuccessfullLogin(username, password) {\n    sessionStorage.setItem('authenticatedUser', username);\n    this.setupAxiosInterceptors(username, password);\n  }\n\n  registerSuccessfullLoginJwt(username, token, remember) {\n    sessionStorage.setItem('authenticatedUser', username);\n    localStorage.setItem('token', token);\n    this.setupAxiosInterceptorsJwt(token);\n  }\n\n  logout() {\n    sessionStorage.removeItem('authenticatedUser');\n  }\n\n  isUserLoggedIn() {\n    let user = sessionStorage.getItem('authenticatedUser');\n    if (user === null) return false;\n    return true;\n  }\n\n  setupAxiosInterceptorsForSavedToken() {\n    if (this.isUserLoggedIn()) this.setupAxiosInterceptorsJwt(localStorage.getItem('token'));\n  }\n\n  createJwtAuthentication(token) {\n    return 'Bearer ' + token;\n  }\n\n}\n\nexport default new AuthenticationService();","map":{"version":3,"sources":["C:/Users/Asus/Desktop/uygulama/customer-app-fe/src/components/onlinefood/AuthenticationService.js"],"names":["axios","AuthenticationService","setupAxiosInterceptorsJwt","token","interceptors","request","use","config","isUserLoggedIn","headers","authorization","createJwtAuthentication","executeJwtAuthentication","username","password","post","registerSuccessfullLogin","sessionStorage","setItem","setupAxiosInterceptors","registerSuccessfullLoginJwt","remember","localStorage","logout","removeItem","user","getItem","setupAxiosInterceptorsForSavedToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,qBAAN,CAA2B;AAAA;AAAA,SA2BvBC,yBA3BuB,GA2BMC,KAAD,IAAU;AAClCH,MAAAA,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgCC,MAAD,IAAU;AACrC,YAAG,KAAKC,cAAL,EAAH,EACID,MAAM,CAACE,OAAP,CAAeC,aAAf,GAA+B,KAAKC,uBAAL,CAA6BR,KAA7B,CAA/B;AACJ,eAAOI,MAAP;AACH,OAJD;AAKH,KAjCsB;AAAA;;AACvBK,EAAAA,wBAAwB,CAACC,QAAD,EAAUC,QAAV,EAAmB;AACvC,WAAOd,KAAK,CAACe,IAAN,CAAW,+CAAX,EAA2D;AAACF,MAAAA,QAAD;AAAUC,MAAAA;AAAV,KAA3D,CAAP;AACH;;AAEDE,EAAAA,wBAAwB,CAACH,QAAD,EAAWC,QAAX,EAAqB;AACzCG,IAAAA,cAAc,CAACC,OAAf,CAAuB,mBAAvB,EAA4CL,QAA5C;AACA,SAAKM,sBAAL,CAA4BN,QAA5B,EAAsCC,QAAtC;AACH;;AAEDM,EAAAA,2BAA2B,CAACP,QAAD,EAAUV,KAAV,EAAiBkB,QAAjB,EAA0B;AACjDJ,IAAAA,cAAc,CAACC,OAAf,CAAuB,mBAAvB,EAA2CL,QAA3C;AACAS,IAAAA,YAAY,CAACJ,OAAb,CAAqB,OAArB,EAA6Bf,KAA7B;AACA,SAAKD,yBAAL,CAA+BC,KAA/B;AACH;;AAEDoB,EAAAA,MAAM,GAAE;AACJN,IAAAA,cAAc,CAACO,UAAf,CAA0B,mBAA1B;AACH;;AAEDhB,EAAAA,cAAc,GAAE;AACZ,QAAIiB,IAAI,GAAGR,cAAc,CAACS,OAAf,CAAuB,mBAAvB,CAAX;AACA,QAAGD,IAAI,KAAK,IAAZ,EAAkB,OAAO,KAAP;AAClB,WAAO,IAAP;AACH;;AAWDE,EAAAA,mCAAmC,GAAE;AAC7B,QAAG,KAAKnB,cAAL,EAAH,EACI,KAAKN,yBAAL,CAA+BoB,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA/B;AACX;;AAEDf,EAAAA,uBAAuB,CAACR,KAAD,EAAO;AAC1B,WAAO,YAAWA,KAAlB;AACH;;AA1CsB;;AA6C3B,eAAe,IAAIF,qBAAJ,EAAf","sourcesContent":["import axios from 'axios';\nclass AuthenticationService{\n    executeJwtAuthentication(username,password){\n        return axios.post('http://localhost:8034/customer2/authenticate2',{username,password});\n    };\n    \n    registerSuccessfullLogin(username, password) {\n        sessionStorage.setItem('authenticatedUser', username);\n        this.setupAxiosInterceptors(username, password);\n    }\n\n    registerSuccessfullLoginJwt(username,token, remember){\n        sessionStorage.setItem('authenticatedUser',username);\n        localStorage.setItem('token',token);\n        this.setupAxiosInterceptorsJwt(token);\n    }\n\n    logout(){\n        sessionStorage.removeItem('authenticatedUser');\n    }\n\n    isUserLoggedIn(){\n        let user = sessionStorage.getItem('authenticatedUser');\n        if(user === null) return false;\n        return true;\n    }\n\n\n    setupAxiosInterceptorsJwt = (token) =>{\n        axios.interceptors.request.use((config)=>{\n            if(this.isUserLoggedIn())\n                config.headers.authorization = this.createJwtAuthentication(token);\n            return config;\n        })\n    }\n\n    setupAxiosInterceptorsForSavedToken(){\n            if(this.isUserLoggedIn())\n                this.setupAxiosInterceptorsJwt(localStorage.getItem('token'));\n    }\n\n    createJwtAuthentication(token){\n        return 'Bearer '+ token;\n    };\n}\n\nexport default new AuthenticationService()\n"]},"metadata":{},"sourceType":"module"}