{"ast":null,"code":"import axios from 'axios';\n\nclass AuthenticationService {\n  constructor() {\n    this.setupAxiosInterceptorsJwt = token => {\n      axios.interceptors.request.use(config => {\n        if (this.isUserLoggedIn()) config.headers.authorization = this.createJwtAuthentication(token);\n        return config;\n      });\n    };\n  }\n\n  executeJwtAuthentication(username, password) {\n    return axios.post('http://localhost:8034/customer2/authenticate2', {\n      username,\n      password\n    });\n  }\n\n  registerSuccessfullLoginJwt(username, token, remember) {\n    sessionStorage.setItem('authenticatedUser', username);\n    localStorage.setItem('token', token);\n    this.setupAxiosInterceptorsJwt(token);\n  }\n\n  logout() {\n    sessionStorage.removeItem('authenticatedUser');\n  }\n\n  isUserLoggedIn() {\n    let user = sessionStorage.getItem('authenticatedUser');\n    if (user === null) return false;\n    return true;\n  }\n\n  setupAxiosInterceptorsForSavedToken() {\n    if (this.isUserLoggedIn()) this.setupAxiosInterceptorsJwt(localStorage.getItem('token'));\n  }\n\n  createJwtAuthentication(token) {\n    return 'Bearer ' + token;\n  }\n\n}\n\nexport default new AuthenticationService();","map":{"version":3,"sources":["C:/Users/Asus/Desktop/uygulama/customer-app-fe/src/components/onlinefood/AuthenticationService.js"],"names":["axios","AuthenticationService","setupAxiosInterceptorsJwt","token","interceptors","request","use","config","isUserLoggedIn","headers","authorization","createJwtAuthentication","executeJwtAuthentication","username","password","post","registerSuccessfullLoginJwt","remember","sessionStorage","setItem","localStorage","logout","removeItem","user","getItem","setupAxiosInterceptorsForSavedToken"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,qBAAN,CAA2B;AAAA;AAAA,SAsBvBC,yBAtBuB,GAsBMC,KAAD,IAAU;AAClCH,MAAAA,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgCC,MAAD,IAAU;AACrC,YAAG,KAAKC,cAAL,EAAH,EACID,MAAM,CAACE,OAAP,CAAeC,aAAf,GAA+B,KAAKC,uBAAL,CAA6BR,KAA7B,CAA/B;AACJ,eAAOI,MAAP;AACH,OAJD;AAKH,KA5BsB;AAAA;;AACvBK,EAAAA,wBAAwB,CAACC,QAAD,EAAUC,QAAV,EAAmB;AACvC,WAAOd,KAAK,CAACe,IAAN,CAAW,+CAAX,EAA2D;AAACF,MAAAA,QAAD;AAAUC,MAAAA;AAAV,KAA3D,CAAP;AACH;;AAEDE,EAAAA,2BAA2B,CAACH,QAAD,EAAUV,KAAV,EAAiBc,QAAjB,EAA0B;AACjDC,IAAAA,cAAc,CAACC,OAAf,CAAuB,mBAAvB,EAA2CN,QAA3C;AACAO,IAAAA,YAAY,CAACD,OAAb,CAAqB,OAArB,EAA6BhB,KAA7B;AACA,SAAKD,yBAAL,CAA+BC,KAA/B;AACH;;AAEDkB,EAAAA,MAAM,GAAE;AACJH,IAAAA,cAAc,CAACI,UAAf,CAA0B,mBAA1B;AACH;;AAEDd,EAAAA,cAAc,GAAE;AACZ,QAAIe,IAAI,GAAGL,cAAc,CAACM,OAAf,CAAuB,mBAAvB,CAAX;AACA,QAAGD,IAAI,KAAK,IAAZ,EAAkB,OAAO,KAAP;AAClB,WAAO,IAAP;AACH;;AAWDE,EAAAA,mCAAmC,GAAE;AAC7B,QAAG,KAAKjB,cAAL,EAAH,EACI,KAAKN,yBAAL,CAA+BkB,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA/B;AACX;;AAEDb,EAAAA,uBAAuB,CAACR,KAAD,EAAO;AAC1B,WAAO,YAAWA,KAAlB;AACH;;AArCsB;;AAwC3B,eAAe,IAAIF,qBAAJ,EAAf","sourcesContent":["import axios from 'axios';\nclass AuthenticationService{\n    executeJwtAuthentication(username,password){\n        return axios.post('http://localhost:8034/customer2/authenticate2',{username,password});\n    };\n\n    registerSuccessfullLoginJwt(username,token, remember){\n        sessionStorage.setItem('authenticatedUser',username);\n        localStorage.setItem('token',token);\n        this.setupAxiosInterceptorsJwt(token);\n    }\n\n    logout(){\n        sessionStorage.removeItem('authenticatedUser');\n    }\n\n    isUserLoggedIn(){\n        let user = sessionStorage.getItem('authenticatedUser');\n        if(user === null) return false;\n        return true;\n    }\n\n\n    setupAxiosInterceptorsJwt = (token) =>{\n        axios.interceptors.request.use((config)=>{\n            if(this.isUserLoggedIn())\n                config.headers.authorization = this.createJwtAuthentication(token);\n            return config;\n        })\n    }\n\n    setupAxiosInterceptorsForSavedToken(){\n            if(this.isUserLoggedIn())\n                this.setupAxiosInterceptorsJwt(localStorage.getItem('token'));\n    }\n\n    createJwtAuthentication(token){\n        return 'Bearer '+ token;\n    };\n}\n\nexport default new AuthenticationService()\n"]},"metadata":{},"sourceType":"module"}